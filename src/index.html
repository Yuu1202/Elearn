<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Pembelajaran</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Hamburger Menu -->
    <button class="hamburger" id="hamburgerBtn">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Menu</h2>
            <button class="close-btn" id="closeBtn">&times;</button>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active">
                <span>□</span> Dashboard
            </a>
            <a href="#" class="nav-item">
                <span>□</span> Profil
            </a>
            <a href="#" class="nav-item">
                <span>□</span> Course Saya
            </a>
            <a href="#" class="nav-item">
                <span>□</span> Pencapaian
            </a>
            <a href="#" class="nav-item">
                <span>□</span> Pengaturan
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header>
            <h1>Platform Pembelajaran</h1>
            <button class="profile-btn" id="profileBtn">
                <div class="avatar">
                    <!-- [DATABASE: user_profile_picture] -->
                    <!-- Jika tidak ada foto, gunakan inisial nama -->
                    U
                </div>
            </button>
        </header>

        <!-- Course Grid -->
        <div class="course-grid">
            <!-- 
                [DATABASE LOOP: courses]
                Loop semua course yang tersedia dari tabel 'courses'
                Data yang diambil:
                - course_id
                - course_name
                - course_description
                - course_color (untuk gradient header)
                - user_progress (dari tabel 'user_progress' JOIN dengan user_id)
                - badge_name (dari tabel 'badges' jika course selesai)
            -->
            
            <!-- Course Card - Tes -->
            <div class="course-card large" data-course-id="1">
                <!-- [DATABASE: course_color] -->
                <div class="card-header green">
                    <span class="book-icon"></span>
                </div>
                <div class="card-content">
                    <!-- [DATABASE: course_name] -->
                    <h3>Tes</h3>
                    
                    <!-- [DATABASE: course_description] -->
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore.</p>
                    
                    <div class="progress-section">
                        <div class="progress-label">
                            <span>Progress</span>
                            <!-- [DATABASE: user_progress.percentage] 
                                 Query: SELECT progress_percentage FROM user_progress 
                                 WHERE user_id = ? AND course_id = ? -->
                            <span>30%</span>
                        </div>
                        <div class="progress-bar">
                            <!-- [DATABASE: Gunakan progress_percentage untuk width] -->
                            <div class="progress-fill green" style="width: 30%"></div>
                        </div>
                    </div>
                    
                    <div class="badge-info">
                        <span class="badge-icon">□</span>
                        <span class="badge-icon">□</span>
                        <!-- [DATABASE: badges.badge_name] 
                             Query: SELECT badge_name FROM badges 
                             WHERE course_id = ? -->
                        <span>Lorem Badge</span>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content profile-modal">
            <button class="modal-close" id="closeProfileModal">&times;</button>
            <div class="modal-header gradient-purple">
                <div class="profile-avatar">
                    <!-- [DATABASE: users.profile_picture] 
                         Query: SELECT profile_picture FROM users WHERE user_id = ? -->
                    <!-- Jika tidak ada foto, tampilkan inisial -->
                    U
                </div>
                <!-- [DATABASE: users.full_name] -->
                <h2>User Name</h2>
                
                <!-- [DATABASE: users.username] -->
                <p class="username">@username</p>
            </div>
            <div class="modal-body">
                <h3><span class="icon">□</span> Badge yang Dimiliki</h3>
                <div class="badges-grid">
                    <!-- 
                        [DATABASE LOOP: user_badges]
                        Query: SELECT b.badge_id, b.badge_name, b.badge_icon, ub.earned_date
                               FROM user_badges ub
                               JOIN badges b ON ub.badge_id = b.badge_id
                               WHERE ub.user_id = ?
                               ORDER BY ub.earned_date DESC
                        
                        Untuk badge yang belum diperoleh:
                        Query: SELECT badge_id, badge_name, badge_icon 
                               FROM badges 
                               WHERE badge_id NOT IN (
                                   SELECT badge_id FROM user_badges WHERE user_id = ?
                               )
                    -->
                    
                    <!-- Badge Aktif (sudah diperoleh) -->
                    <div class="badge-item active">
                        <!-- [DATABASE: badges.badge_icon] -->
                        <span class="badge-emoji">□</span>
                        <!-- [DATABASE: badges.badge_name] -->
                        <p>Lorem Badge</p>
                        <!-- [DATABASE: user_badges.earned_date] -->
                        <small>2025-11-20</small>
                    </div>
                    
                    <!-- Badge Belum Aktif -->
                    <div class="badge-item disabled">
                        <span class="badge-emoji">□</span>
                        <p>Ipsum Badge</p>
                    </div>
                    
                    <div class="badge-item disabled">
                        <span class="badge-emoji">□</span>
                        <p>Dolor Badge</p>
                    </div>
                    
                    <div class="badge-item active">
                        <span class="badge-emoji">□</span>
                        <p>Sit Badge</p>
                        <small>2025-11-25</small>
                    </div>
                    
                    <div class="badge-item active">
                        <span class="badge-emoji">□</span>
                        <p>Amet Badge</p>
                        <small>2025-11-18</small>
                    </div>
                </div>

                <h3><span class="icon">□</span> Streak Keaktifan (7 Hari Terakhir)</h3>
                <!-- 
                    [DATABASE: user_activity]
                    Query: SELECT activity_date FROM user_activity 
                           WHERE user_id = ? 
                           AND activity_date >= DATE_SUB(CURDATE(), INTERVAL 7 DAY)
                           ORDER BY activity_date DESC
                    
                    Loop 7 hari terakhir, cek apakah user aktif di tanggal tersebut
                    Jika ada activity_date, beri class "active"
                -->
                <div class="streak-calendar">
                    <!-- [DATABASE: Loop 7 hari, cek user_activity.activity_date] -->
                    <div class="streak-day active">S</div>
                    <div class="streak-day active">S</div>
                    <div class="streak-day active">R</div>
                    <div class="streak-day active">K</div>
                    <div class="streak-day active">J</div>
                    <div class="streak-day active">S</div>
                    <div class="streak-day active">M</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Course Detail Modal -->
    <div class="modal" id="courseModal">
        <div class="modal-content course-modal">
            <button class="modal-close" id="closeCourseModal">&times;</button>
            <div class="modal-header gradient-green">
                <!-- [DATABASE: courses.course_name] -->
                <h2>Tes</h2>
                <!-- [DATABASE: user_progress.progress_percentage] -->
                <p>Progress: 30%</p>
            </div>
            <div class="modal-body">
                <h3>Tentang Course</h3>
                <!-- [DATABASE: courses.course_description] -->
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                
                <a href="course/tes/tes.html" class="start-course-btn">
                    Mulai Belajar →
                </a>
                
                <div class="badge-earn">
                    <h3><span class="icon">□</span> Badge yang Bisa Didapatkan</h3>
                    <!-- 
                        [DATABASE: badges]
                        Query: SELECT badge_name, badge_description, badge_icon 
                               FROM badges 
                               WHERE course_id = ? 
                               AND badge_id NOT IN (
                                   SELECT badge_id FROM user_badges WHERE user_id = ?
                               )
                    -->
                    <div class="badge-card">
                        <!-- [DATABASE: badges.badge_icon] -->
                        <span class="badge-emoji">□</span>
                        <div>
                            <!-- [DATABASE: badges.badge_name] -->
                            <p><strong>Lorem Badge</strong></p>
                            <!-- [DATABASE: badges.badge_description] -->
                            <small>Lorem ipsum dolor sit amet, consectetur adipiscing elit!</small>
                        </div>
                    </div>
                </div>

                <h3><span class="icon">□</span> Komentar Pengguna</h3>
                <div class="comments">
                    <!-- 
                        [DATABASE LOOP: course_comments]
                        Query: SELECT c.comment_id, c.comment_text, c.created_at,
                                      u.user_id, u.full_name, u.profile_picture
                               FROM course_comments c
                               JOIN users u ON c.user_id = u.user_id
                               WHERE c.course_id = ?
                               ORDER BY c.created_at DESC
                               LIMIT 10
                    -->
                    
                    <!-- Comment 1 -->
                    <div class="comment">
                        <div class="comment-avatar">
                            <!-- [DATABASE: users.profile_picture atau inisial] -->
                            U
                        </div>
                        <div class="comment-content">
                            <!-- [DATABASE: users.full_name] -->
                            <strong>User Name</strong>
                            <!-- [DATABASE: course_comments.comment_text] -->
                            <p>Lorem ipsum dolor sit amet!</p>
                        </div>
                    </div>
                    
                    <!-- Comment 2 -->
                    <div class="comment">
                        <div class="comment-avatar">
                            U
                        </div>
                        <div class="comment-content">
                            <strong>Another User</strong>
                            <p>Consectetur adipiscing elit</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>